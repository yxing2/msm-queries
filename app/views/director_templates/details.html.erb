<h1>Director #<%= @the_director.id %> details</h1>
<a href="/directors">Go back</a>
<hr>

<dl>
  <dt>Name</dt>
    <dd><%= @the_director.name %>
  <dt>Dob</dt>
   <dd><%= @the_director.dob %>
  <dt>Bio</dt>
    <dd><%= @the_director.bio %>
  <dt>Image</dt>
    <dd><img src="<%= @the_director.image %>" width ="200"></dd>
  <dt>Created at</dt>
    <dd><%= @the_director.created_at %>
  <dt>Updated at</dt>
    <dd><%= @the_director.updated_at %>
</dl>

<hr>

<h1>Filmography</h1>
<% matching_movies = Movie.where({ :director_id => @the_director.id }) %>

<table border="1">
  <tr>
    <th>ID</th>
    <th>Image</th>
    <th>Title</th>
    <th>Year</th>
    <th>Director</th>
    <th></th>
  </tr>

<% matching_movies.each do |a_movie| %>
  <tr>
    <td><%= a_movie.id %></td>
    <td><img src="<%= a_movie.image %>" width=200></td>
    <td><%= a_movie.title %></td>
    <td><%= a_movie.year %></td>
    <td><%= @the_director.name %></td>
    <td><a href="/movies/<%= a_movie.id %>">Show details</a></td>
  </tr>
<% end %>
</table>
